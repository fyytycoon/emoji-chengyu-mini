<view class="container">
  <!-- é¡¶éƒ¨ä¿¡æ¯æ  -->
  <view class="header">
    <view class="timer">
      <view class="timer-icon">â±ï¸</view>
      <view class="timer-text">{{timeString}}</view>
    </view>
    <view class="score-container">
      <view class="score-item">
        <view class="score-icon">ğŸ†</view>
        <view class="score-value">{{score}}</view>
      </view>
      <view class="score-item">
        <view class="score-icon">ğŸ’°</view>
        <view class="score-value">{{coins}}</view>
      </view>
    </view>
  </view>

  <!-- æ‹¼éŸ³æç¤ºåŒºåŸŸ -->
  <view class="pinyin-container">
    <block wx:for="{{pinyinHint}}" wx:key="index">
      <view class="pinyin-item">{{item}}</view>
    </block>
  </view>

  <!-- ç­”æ¡ˆåŒºåŸŸ -->
  <view class="answer-container">
    <block wx:for="{{answerChars}}" wx:key="index">
      <view class="answer-box {{item.filled ? 'filled' : ''}}">
        <text>{{item.char}}</text>
      </view>
    </block>
  </view>

  <!-- é”®ç›˜åŒºåŸŸ -->
  <view class="keyboard-container">
    <block wx:for="{{keyboardKeys}}" wx:key="index">
      <view class="key-button {{item === 'backspace' ? 'backspace' : ''}}" 
            bindtap="onKeyPress" 
            data-index="{{index}}">
        <text wx:if="{{item !== 'backspace'}}">{{item}}</text>
        <text wx:else>â†</text>
      </view>
    </block>
  </view>

  <!-- æç¤ºå’Œæäº¤æŒ‰é’® -->
  <view class="action-buttons">
    <view class="hint-button" bindtap="useHint">
      <text class="hint-icon">ğŸ’¡</text>
      <text class="hint-text">æç¤º (20é‡‘å¸)</text>
    </view>
    <view class="next-button" bindtap="resetGame">
      <text>ä¸‹ä¸€é¢˜</text>
    </view>
    <view class="home-button" bindtap="navigateToHome">
      <text>è¿”å›</text>
    </view>
  </view>

  <!-- æ¸¸æˆç»“æœé®ç½© -->
  <view class="result-overlay" wx:if="{{showResult}}">
    <view class="result-container {{isCorrect ? 'correct' : 'wrong'}}">
      <view class="result-icon">{{isCorrect ? 'ğŸ‰' : 'ğŸ˜¢'}}</view>
      <view class="result-title">{{isCorrect ? 'ç­”å¯¹äº†ï¼' : 'ç­”é”™äº†ï¼'}}</view>
      <view class="result-idiom">æ­£ç¡®ç­”æ¡ˆ: {{idiom.idiom}}</view>
      <view class="result-hint" wx:if="{{idiom.hint}}">
        <text>æç¤º: {{idiom.hint}}</text>
      </view>
      <view class="result-buttons">
        <button class="result-button" bindtap="resetGame">å†æ¥ä¸€æ¬¡</button>
        <button class="result-button" bindtap="navigateToHome">è¿”å›ä¸»é¡µ</button>
      </view>
    </view>
  </view>
</view> 